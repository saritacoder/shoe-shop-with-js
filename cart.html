<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cart page</title>
    <script src="https://kit.fontawesome.com/d5f27f4b43.js" crossorigin="anonymous"></script>

<style>
    #parent > div{
        display: flex;
        justify-content: space-around;
       align-items: center;
       margin-top: 10px;
    }
    #cart{
        display: flex;
        justify-content:space-around ;
        align-items: center;
    }
</style>


</head>
<body>
    <a href="shopWithJS.html" target="_black">
  
        <i class="fa-solid fa-house" style="color: rebeccapurple; font-size: 30px;"></i>

    </a>
    
    <h1>cart page</h1>
    <div id="parent"></div>
</body>
</html>

<script>

// var cartItems = localStorage.getItem("cartItems");
// var cart = cartItems ? JSON.parse(cartItems) : [];
     var cart = JSON.parse(localStorage.getItem("cartItems") || []);

    if(cart.length >0){
        displayCart();
        calTotal();
    }else{
        document.getElementById("parent").textContent = "No items is in cart";
    }

    function displayCart(){
        cart.map(function (ele){
            var div = document.createElement("div");
        var image = document.createElement("img");
        image.setAttribute("src",ele.image_url);
        image.setAttribute("alt",ele.name);

        var name = document.createElement("h4");
        name.textContent=ele.name;

        var price = document.createElement("p");
        price.textContent= "₹" + ele.final_price;
        
        div.append(image,name,price);
        document.getElementById("parent").append(div);
   
    })

        
    }

function calTotal(){
    var total = cart.reduce(function(acc,currEl){
    return acc+currEl.final_price;
},0);

var div = document.createElement("div");

div.setAttribute("id","cart");

var p = document.createElement("p");
p.textContent = "Total cart value";

var p1 = document.createElement("p");
p1.textContent ="₹" + total;

div.append(p,p1);
document.querySelector("body").append(div);
}

</script>